<!DOCTYPE html>
<html>
<head>
  <title>ì˜¤ëŠ˜ì˜ë©”ë‰´ - ë©”ë‰´ ì…ë ¥</title>
</head>
<body>
  <h1>ğŸ½ï¸ ì˜¤ëŠ˜ì˜ë©”ë‰´ - ë©”ë‰´ ì œì•ˆ</h1>
  <p id="roomDisplay"></p>

  <input type="text" id="menuInput" placeholder="ì˜ˆ: ì œìœ¡ë³¶ìŒ" />
  <button onclick="submitMenu()">ì œì•ˆí•˜ê¸°</button>

  <ul id="menuList"></ul>

  <button onclick="pickRandom()">ğŸ² ë‚™ì°°í•˜ê¸°</button>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const roomCode = urlParams.get("room");
    document.getElementById("roomDisplay").innerText = `ë°© ì½”ë“œ: ${roomCode}`;

    const menus = [];

    function submitMenu() {
      const input = document.getElementById("menuInput");
      const menu = input.value.trim();
      if (menu) {
        menus.push(menu);
        updateList();
        input.value = "";
      }
    }

    function updateList() {
      const ul = document.getElementById("menuList");
      ul.innerHTML = menus.map(item => `<li>${item}</li>`).join("");
    }

    function pickRandom() {
      if (menus.length === 0) return alert("ë©”ë‰´ê°€ ì—†ìŠµë‹ˆë‹¤!");
      const winner = menus[Math.floor(Math.random() * menus.length)];
      window.location.href = `result.html?menu=${encodeURIComponent(winner)}`;
    }
  </script>
</body>
</html>
